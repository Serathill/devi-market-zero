import{r as s,j as e}from"./index-C0AM6VvF.js";const f=()=>{const[a,u]=s.useState({barcode:"",scan_timestamp:new Date().toISOString()}),[o,b]=s.useState(null),[l,r]=s.useState(!1),[c,d]=s.useState(null),p=async n=>{n.preventDefault(),r(!0),d(null),setTimeout(()=>{try{if(!a.barcode||a.barcode.length<8)throw new Error("Codul de bare trebuie să aibă cel puțin 8 caractere");const t={success:!0,message:"Scanare înregistrată cu succes",scan_id:`scan_${Math.floor(Math.random()*1e4)}`,product_found:a.barcode.startsWith("123"),timestamp:new Date().toISOString()};b(t),r(!1)}catch(t){d(t instanceof Error?t:new Error("A apărut o eroare la trimiterea datelor.")),r(!1)}},800)},i=n=>{const{name:t,value:m}=n.target,h=t==="scan_timestamp"?new Date(m).toISOString():m;u(x=>({...x,[t]:h}))};return e.jsxs("div",{className:"max-w-lg mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Scanează produs"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"barcode",className:"block mb-1 font-semibold",children:"Cod de bare (barcode):"}),e.jsx("input",{id:"barcode",name:"barcode",type:"text",value:a.barcode,onChange:i,required:!0,className:"w-full border rounded px-3 py-2",placeholder:"Ex: 1234567890123"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"scan_timestamp",className:"block mb-1 font-semibold",children:"Data/ora scanare:"}),e.jsx("input",{id:"scan_timestamp",name:"scan_timestamp",type:"datetime-local",value:a.scan_timestamp.slice(0,16),onChange:i,required:!0,className:"w-full border rounded px-3 py-2"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",disabled:l,children:l?"Se trimite...":"Trimite"})]}),c&&e.jsx("div",{className:"mt-4 text-red-600 text-center font-semibold",children:c.message||"A apărut o eroare la trimiterea datelor."}),o&&e.jsxs("div",{className:"mt-6 bg-gray-100 p-4 rounded",children:[e.jsx("h2",{className:"font-semibold mb-2",children:"Răspuns server:"}),e.jsx("pre",{className:"text-sm",children:JSON.stringify(o,null,2)})]})]})};export{f as default};
